(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{11:function(e,t,s){},18:function(e,t,s){},19:function(e,t,s){"use strict";s.r(t);var n=s(0),a=s(2),i=s.n(a),c=s(12),l=s.n(c),r=(s(18),s(3)),d=s(4),h=s(6),o=s(5),j=s(1),b=s(7),u=(s(8),new Date),O=u.getDate(),m=u.getMonth()+1,x=u.getFullYear();O<10&&(O="0"+O),m<10&&(m="0"+m),u=x+"-"+m+"-"+O;var f=function(e){Object(h.a)(s,e);var t=Object(o.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).state={departing_airport:"HOU",arrival_airport:"LAX",date:new Date,travelers:1,fair_conditions:"Economy"},n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n}return Object(d.a)(s,[{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.state.departing_airport!=this.state.arrival_airport?void 0!=this.state.date&&this.state.date>=u?(fetch("http://localhost:8080/api/flight_requirements",{method:"post",headers:new Headers({"content-type":"application/json"}),mode:"cors",credentials:"include",body:JSON.stringify(this.state)}),this.props.submitDestination()):alert("Invalid Date: You've selected a date in the past!"):alert("Invalid Airport Selection: Departing Airport matches Arrival Airport")}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"columns is-centered",children:Object(n.jsx)("div",{className:"column is-3-desktop",children:Object(n.jsxs)("form",{className:"box",onSubmit:this.handleSubmit,children:[Object(n.jsx)("h1",{class:"title has-text-centered",children:"Find Flights"}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label",children:"Departing Airport"}),Object(n.jsx)("div",{className:"select",children:Object(n.jsxs)("select",{name:"departing_airport",value:this.state.departing_airport,onChange:this.handleChange,children:[Object(n.jsx)("option",{children:"HOU"}),Object(n.jsx)("option",{children:"JFK"}),Object(n.jsx)("option",{children:"LAX"}),Object(n.jsx)("option",{children:"ORD"}),Object(n.jsx)("option",{children:"MIA"})]})})]}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label",children:"Arrival Airport"}),Object(n.jsx)("div",{className:"select",children:Object(n.jsxs)("select",{name:"arrival_airport",value:this.state.arrival_airport,onChange:this.handleChange,children:[Object(n.jsx)("option",{children:"LAX"}),Object(n.jsx)("option",{children:"JFK"}),Object(n.jsx)("option",{children:"ORD"}),Object(n.jsx)("option",{children:"MIA"}),Object(n.jsx)("option",{children:"HOU"})]})})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("label",{className:"label",children:"Date"}),Object(n.jsxs)("div",{className:"control has-icons-left",children:[Object(n.jsx)("input",{type:"date",className:"input",name:"date",value:this.state.date,onChange:this.handleChange,required:!0}),Object(n.jsx)("span",{className:"icon is-small is-left",children:Object(n.jsx)("i",{className:"fa fa-calendar"})})]})]}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label",children:"Travelers"}),Object(n.jsxs)("div",{className:"control has-icons-left",children:[Object(n.jsx)("input",{type:"number",min:"1",max:"10",className:"input",name:"travelers",value:this.state.travelers,onChange:this.handleChange,required:!0}),Object(n.jsx)("span",{className:"icon is-small is-left",children:Object(n.jsx)("i",{className:"fa fa-dollar"})})]})]}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label",children:"Fair Conditions"}),Object(n.jsx)("div",{className:"select",children:Object(n.jsxs)("select",{name:"fair_conditions",value:this.state.fair_conditions,onChange:this.handleChange,children:[Object(n.jsx)("option",{children:"Economy"}),Object(n.jsx)("option",{children:"Comfort"}),Object(n.jsx)("option",{children:"Business"})]})})]}),Object(n.jsx)("div",{className:"field has-text-centered",children:Object(n.jsx)("input",{type:"submit",className:"button is-link",value:"Find Flights"})})]})})})})}}]),s}(i.a.Component),p=function(e){Object(h.a)(s,e);var t=Object(o.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).state={flights:[],flight_id:0},n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.backButton=n.backButton.bind(Object(j.a)(n)),n}return Object(d.a)(s,[{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t;e.preventDefault();var s=!1,n=!1;for(t=0;t<this.state.flights.length;t++)this.state.flight_id==this.state.flights[t].flight_id&&(s=!0,this.state.flights[t].seats_available-this.state.current_user[0].travelers<0&&(this.state.flights[t].waitlist-this.state.current_user[0].travelers<0?(s=!1,n=!0,alert("The flight and waitlist is full: Please pick another flight")):alert("This flight is full: You will be placed on a waitlist")));!0===s?(fetch("http://localhost:8080/api/selected_flight",{method:"post",headers:new Headers({"content-type":"application/json"}),mode:"cors",credentials:"include",body:JSON.stringify(this.state)}),this.props.submitFlight()):!1===s&&!0!==n&&alert("Invalid Flight Id: Please type in a flight id from the list (Capitalization Matters)")}},{key:"backButton",value:function(e){e.preventDefault(),this.props.restartApp()}},{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8080/api/list_flights",{method:"get",credentials:"include",mode:"cors"}).then((function(e){return e.json()})).then((function(t){return e.setState({flights:t},(function(){return console.log("Flights fetched...",t)}))})),fetch("http://localhost:8080/api/get_currentuser",{method:"get",credentials:"include",mode:"cors"}).then((function(e){return e.json()})).then((function(t){e.setState({current_user:t},(function(){return console.log("User fetched...",t[0].travelers)}))}))}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{class:"is-overlay has-text-centered single-spaced",style:{top:30},children:Object(n.jsxs)("div",{class:"container",children:[Object(n.jsx)("form",{className:"box",onSubmit:this.handleSubmit,children:Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label",children:"Enter Chosen Flight Id"}),Object(n.jsx)("div",{className:"control has-icons-left",children:Object(n.jsx)("input",{type:"number",placeholder:"* required",className:"input",name:"flight_id",onChange:this.handleChange,required:!0})}),"\xa0",Object(n.jsxs)("nav",{class:"level",children:[Object(n.jsx)("div",{className:"field has-text-centered",children:Object(n.jsx)("input",{type:"submit",className:"button is-link",value:"Submit"})}),Object(n.jsx)("button",{class:"button is-danger",onClick:this.backButton,children:" Restart"})]})]})}),Object(n.jsxs)("div",{class:"box",children:[Object(n.jsx)("h1",{class:"title has-text-centered",children:"Found Flights"}),Object(n.jsxs)("table",{class:"table is-fullwidth",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Flight Id"}),Object(n.jsx)("th",{children:"Flight Number"}),Object(n.jsx)("th",{children:"Depart"}),Object(n.jsx)("th",{children:"Arrive"}),Object(n.jsx)("th",{children:"Seats Available"}),Object(n.jsx)("th",{children:"Seats Booked"}),Object(n.jsx)("th",{children:"Waitlist"}),Object(n.jsx)("th",{children:"Movie"}),Object(n.jsx)("th",{children:"Meal"})]})}),this.state.flights.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.flight_id}),Object(n.jsx)("td",{children:e.flight_no}),Object(n.jsx)("td",{children:e.scheduled_departure}),Object(n.jsx)("td",{children:e.scheduled_arrival}),Object(n.jsx)("td",{children:e.seats_available}),Object(n.jsx)("td",{children:e.seats_booked}),Object(n.jsx)("td",{children:e.waitlist}),Object(n.jsx)("td",{children:e.movie}),Object(n.jsx)("td",{children:e.meal})]},e.flight_id)}))]}),0===this.state.flights.length?Object(n.jsx)("p",{children:"No flights for specified requirements"}):Object(n.jsx)("div",{})]})]})})})}}]),s}(i.a.Component),v=s(9),g=function(e){Object(h.a)(s,e);var t=Object(o.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).handleTravelerNameChange=function(e){return function(t){var s=n.state.travelers.map((function(s,n){return e!==n?s:Object(v.a)(Object(v.a)({},s),{},{name:t.target.value})}));n.setState({travelers:s})}},n.handleTravelerEmailChange=function(e){return function(t){var s=n.state.travelers.map((function(s,n){return e!==n?s:Object(v.a)(Object(v.a)({},s),{},{email:t.target.value})}));n.setState({travelers:s})}},n.handleTravelerPhoneChange=function(e){return function(t){var s=n.state.travelers.map((function(s,n){return e!==n?s:Object(v.a)(Object(v.a)({},s),{},{phone:t.target.value})}));n.setState({travelers:s})}},n.state={travelers:[],name:"",email:"",phone:""},n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.backButton=n.backButton.bind(Object(j.a)(n)),n}return Object(d.a)(s,[{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){function t(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}var s;e.preventDefault();var n,a,i=!0,c=!0,l=!0;for(s=0;s<this.state.current_user[0].travelers;s++)isNaN(this.state.travelers[s].phone)&&(i=!1);for(s=0;s<this.state.current_user[0].travelers;s++)!0!==(a=this.state.travelers[s].name,/\d/.test(a))&&!0!==(n=this.state.travelers[s].name,!!/[~`!@#$%^&*+=\-[\]\\';,/{}|\\":<>?()._]/g.test(n))||(c=!1);for(s=0;s<this.state.current_user[0].travelers;s++)!0===!t(this.state.travelers[s].email)&&(l=!1);if(!0===c&&!0===i&&!0===l){for(s=0;s<this.state.current_user[0].travelers;s++)fetch("http://localhost:8080/api/customer_info",{method:"post",headers:new Headers({"content-type":"application/json"}),mode:"cors",credentials:"include",body:JSON.stringify(this.state.travelers[s])});this.props.submitCustomerInfo()}else!1===c?alert("Please enter valid name/s (no numbers or special characters)"):!1===i?alert("Please enter valid phone number/s"):!1===l&&alert("Please enter valid email address/es (must contain @ and a domain such as .com, .net, etc.")}},{key:"backButton",value:function(e){e.preventDefault(),this.props.restartApp()}},{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8080/api/get_currentuser",{method:"get",credentials:"include",mode:"cors"}).then((function(e){return e.json()})).then((function(t){var s;for(e.setState({current_user:t},(function(){return console.log("User fetched...",t[0].travelers)})),s=0;s<e.state.current_user[0].travelers;s++)e.setState({travelers:e.state.travelers.concat([{name:"",email:"",phone:""}])})}))}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"columns is-centered",children:Object(n.jsx)("div",{className:"column is-4-desktop",children:Object(n.jsxs)("form",{className:"box",onSubmit:this.handleSubmit,children:[Object(n.jsx)("h1",{class:"title has-text-centered",children:"Traveler Information"}),this.state.travelers.map((function(t,s){return Object(n.jsxs)("div",{className:"Traveler",children:[Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label",children:"Traveler ".concat(s+1," Full Name")}),Object(n.jsx)("div",{className:"control has-icons-left",children:Object(n.jsx)("input",{type:"text",minLength:"3",placeholder:"* required",className:"input",name:"name",onChange:e.handleTravelerNameChange(s),required:!0})})]}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label",children:"Traveler ".concat(s+1," Email")}),Object(n.jsx)("div",{className:"control has-icons-left",children:Object(n.jsx)("input",{type:"text",minLength:"4",maxLength:"50",placeholder:"* required",className:"input",name:"email",onChange:e.handleTravelerEmailChange(s),required:!0})})]}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label",children:"Traveler ".concat(s+1," Phone Number")}),Object(n.jsx)("div",{className:"control has-icons-left",children:Object(n.jsx)("input",{type:"text",minLength:"10",maxLength:"10",placeholder:"* required",className:"input",name:"phone",onChange:e.handleTravelerPhoneChange(s),required:!0})})]}),"\xa0"]})})),Object(n.jsxs)("nav",{class:"level",children:[Object(n.jsx)("div",{className:"field has-text-centered",children:Object(n.jsx)("input",{type:"submit",className:"button is-link",value:"Submit"})}),Object(n.jsx)("button",{class:"button is-danger",onClick:this.backButton,children:" Restart"})]})]})})})})}}]),s}(i.a.Component),N=function(e){Object(h.a)(s,e);var t=Object(o.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).state={book_ref:0,card_no:0},n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n}return Object(d.a)(s,[{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();for(var s=!1,n=!1,a=0;a<this.state.passengers.length;a++)this.state.book_ref==this.state.passengers[a].book_ref&&(s=!0);for(var i=0;i<this.state.payments.length;i++)this.state.book_ref==this.state.payments[i].book_ref&&this.state.card_no==this.state.payments[i].card_number&&(n=!0);!0===n?!0===s?(fetch("http://localhost:8080/api/refundTicket",{method:"post",headers:new Headers({"content-type":"application/json"}),mode:"cors",credentials:"include",body:JSON.stringify(this.state)}),setTimeout((function(){fetch("http://localhost:8080/api/listall_passengers",{method:"get",credentials:"include",mode:"cors"}).then((function(e){return e.json()})).then((function(e){return t.setState({passengers:e},(function(){return console.log("Passengers fetched...",e)}))}))}),500),alert("Refund Successful")):alert("There are no tickets for this booking number"):alert("Invalid Book Reference Number and Card Number combination")}},{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8080/api/listall_passengers",{method:"get",credentials:"include",mode:"cors"}).then((function(e){return e.json()})).then((function(t){return e.setState({passengers:t},(function(){return console.log("Passengers fetched...",t)}))})),fetch("http://localhost:8080/api/get_payments",{method:"get",credentials:"include",mode:"cors"}).then((function(e){return e.json()})).then((function(t){return e.setState({payments:t},(function(){return console.log("Payments fetched...",t)}))}))}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{class:"is-overlay",style:{top:30},children:Object(n.jsxs)("form",{className:"box",onSubmit:this.handleSubmit,children:[Object(n.jsx)("h1",{class:"title has-text-centered",children:"Refund"}),Object(n.jsx)("div",{class:"block has-text-centered",children:Object(n.jsx)("strong",{children:"Please note that when your refund is issued your ticket/s will be canceled."})}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label",children:"Booking Referral Code"}),Object(n.jsx)("div",{className:"control has-icons-left",children:Object(n.jsx)("input",{type:"number",placeholder:"* required",className:"input",name:"book_ref",onChange:this.handleChange,required:!0})})]}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label",children:"Card Number"}),Object(n.jsx)("div",{className:"control has-icons-left",children:Object(n.jsx)("input",{type:"number",placeholder:"* required",className:"input",name:"card_no",onChange:this.handleChange,required:!0})})]}),Object(n.jsx)("div",{className:"field has-text-centered",children:Object(n.jsx)("input",{type:"submit",className:"button is-link",value:"Submit"})})]})})})}}]),s}(i.a.Component),k=function(e){Object(h.a)(s,e);var t=Object(o.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).state={flights:[],flight_id:0,foundFlights:!1},n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n}return Object(d.a)(s,[{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t,s=this;e.preventDefault();var n=!1;for(t=0;t<this.state.flights.length;t++)this.state.flight_id==this.state.flights[t].flight_id&&(n=!0);!0===n?(fetch("http://localhost:8080/api/search_flights",{method:"post",headers:new Headers({"content-type":"application/json"}),mode:"cors",credentials:"include",body:JSON.stringify(this.state)}).then((function(e){return e.json()})).then((function(e){return s.setState({flightsFound:e},(function(){return console.log("Flights fetched...",e)}))})),setTimeout(function(){this.setState({foundFlights:!0})}.bind(this),500)):alert("Invalid Flight Id: There is no flight with this flight id")}},{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8080/api/listall_flights",{method:"get",credentials:"include",mode:"cors"}).then((function(e){return e.json()})).then((function(t){return e.setState({flights:t},(function(){return console.log("Flights fetched...",t)}))}))}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{class:"is-overlay has-text-centered single-spaced",children:Object(n.jsxs)("div",{class:"container",children:[Object(n.jsxs)("form",{className:"box",onSubmit:this.handleSubmit,children:[Object(n.jsx)("h1",{class:"title",children:"Search Flights"}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label",children:"Enter Flight Id"}),Object(n.jsx)("div",{className:"control has-icons-left",children:Object(n.jsx)("input",{type:"number",placeholder:"* required",className:"input",name:"flight_id",onChange:this.handleChange,required:!0})}),"\xa0",Object(n.jsx)("nav",{class:"level",children:Object(n.jsx)("div",{className:"field has-text-centered",children:Object(n.jsx)("input",{type:"submit",className:"button is-link",value:"Submit"})})})]})]}),this.state.foundFlights?Object(n.jsxs)("div",{class:"box",children:[Object(n.jsx)("h1",{class:"title has-text-centered",children:"Found Flights"}),Object(n.jsxs)("table",{class:"table is-fullwidth",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Flight Id"}),Object(n.jsx)("th",{children:"Flight Number"}),Object(n.jsx)("th",{children:"Departure Airport"}),Object(n.jsx)("th",{children:"Arrival Airport"}),Object(n.jsx)("th",{children:"Status"}),Object(n.jsx)("th",{children:"Depart"}),Object(n.jsx)("th",{children:"Arrive"}),Object(n.jsx)("th",{children:"Seats Available"}),Object(n.jsx)("th",{children:"Seats Booked"}),Object(n.jsx)("th",{children:"Waitlist"}),Object(n.jsx)("th",{children:"Movie"}),Object(n.jsx)("th",{children:"Meal"})]})}),this.state.flightsFound.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.flight_id}),Object(n.jsx)("td",{children:e.flight_no}),Object(n.jsx)("td",{children:e.departure_airport}),Object(n.jsx)("td",{children:e.arrival_airport}),Object(n.jsx)("td",{children:e.status}),Object(n.jsx)("td",{children:e.scheduled_departure}),Object(n.jsx)("td",{children:e.scheduled_arrival}),Object(n.jsx)("td",{children:e.seats_available}),Object(n.jsx)("td",{children:e.seats_booked}),Object(n.jsx)("td",{children:e.waitlist}),Object(n.jsx)("td",{children:e.movie}),Object(n.jsx)("td",{children:e.meal})]},e.flight_id)}))]}),0===this.state.flightsFound.length?Object(n.jsx)("p",{children:"No flights with that flight id found"}):Object(n.jsx)("div",{})]}):null,Object(n.jsxs)("div",{class:"box",children:[Object(n.jsx)("h1",{class:"title has-text-centered",children:"Full Flight List"}),Object(n.jsxs)("table",{class:"table is-fullwidth",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Flight Id"}),Object(n.jsx)("th",{children:"Flight Number"}),Object(n.jsx)("th",{children:"Departure Airport"}),Object(n.jsx)("th",{children:"Arrival Airport"}),Object(n.jsx)("th",{children:"Status"}),Object(n.jsx)("th",{children:"Depart"}),Object(n.jsx)("th",{children:"Arrive"}),Object(n.jsx)("th",{children:"Seats Available"}),Object(n.jsx)("th",{children:"Seats Booked"}),Object(n.jsx)("th",{children:"Waitlist"}),Object(n.jsx)("th",{children:"Movie"}),Object(n.jsx)("th",{children:"Meal"})]})}),this.state.flights.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.flight_id}),Object(n.jsx)("td",{children:e.flight_no}),Object(n.jsx)("td",{children:e.departure_airport}),Object(n.jsx)("td",{children:e.arrival_airport}),Object(n.jsx)("td",{children:e.status}),Object(n.jsx)("td",{children:e.scheduled_departure}),Object(n.jsx)("td",{children:e.scheduled_arrival}),Object(n.jsx)("td",{children:e.seats_available}),Object(n.jsx)("td",{children:e.seats_booked}),Object(n.jsx)("td",{children:e.waitlist}),Object(n.jsx)("td",{children:e.movie}),Object(n.jsx)("td",{children:e.meal})]},e.flight_id)}))]}),0===this.state.flights.length?Object(n.jsx)("p",{children:"No flights found, this message being here means the server is not on"}):Object(n.jsx)("div",{})]})]})})})}}]),s}(i.a.Component),y=function(e){Object(h.a)(s,e);var t=Object(o.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).handleTravelerSeatChange=function(e){return function(t){var s=n.state.travelers.map((function(s,n){return e!==n?s:Object(v.a)(Object(v.a)({},s),{},{seat_no:t.target.value})}));n.setState({travelers:s})}},n.state={seats:[],travelers:[],isButtonDisabled:!1},n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.backButton=n.backButton.bind(Object(j.a)(n)),n}return Object(d.a)(s,[{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();for(var s=this.state.travelers.map((function(e){return e.seat_no})),n=s.some((function(e,t){return s.indexOf(e)!=t})),a=[],i=0;i<this.state.seats.length;i++)a[i]=this.state.seats[i].seat_no;for(var c,l=[],r=0;r<this.state.travelers.length;r++)l[r]=this.state.travelers[r].seat_no;c=a,l.every((function(e){return c.includes(e)}))?n?alert("Duplicate Seats Chosen: Please make sure travelers have different seats numbers"):(this.setState({isButtonDisabled:!0}),fetch("http://localhost:8080/api/selected_seat",{method:"post",headers:new Headers({"content-type":"application/json"}),mode:"cors",credentials:"include",body:JSON.stringify(this.state)}),setTimeout((function(){fetch("http://localhost:8080/api/post_boarding",{method:"post",headers:new Headers({"content-type":"application/json"}),mode:"cors",credentials:"include",body:JSON.stringify(t.state)})}),2e3),this.props.submitSeat()):alert("Invalid Seat Number: Please type in a seat number from the list (Capitalization Matters)")}},{key:"backButton",value:function(e){e.preventDefault(),this.props.restartApp()}},{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8080/api/list_seats",{method:"get",credentials:"include",mode:"cors"}).then((function(e){return e.json()})).then((function(t){return e.setState({seats:t},(function(){return console.log("Seats fetched...",t)}))})),fetch("http://localhost:8080/api/get_currentuser",{method:"get",credentials:"include",mode:"cors"}).then((function(e){return e.json()})).then((function(t){var s;for(e.setState({current_user:t},(function(){return console.log("User fetched...",t[0].travelers)})),s=0;s<e.state.current_user[0].travelers;s++)e.setState({travelers:e.state.travelers.concat([{seat_no:""}])})}))}},{key:"render",value:function(){var e=this;return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{class:"is-overlay has-text-centered single-spaced",style:{top:30},children:Object(n.jsxs)("div",{class:"container",children:[Object(n.jsxs)("div",{class:"box",children:[Object(n.jsx)("h1",{class:"title has-text-centered",children:"Available Seats"}),Object(n.jsxs)("div",{class:"columns is-gapless",children:[Object(n.jsx)("div",{class:"column",children:Object(n.jsxs)("table",{class:"table is-bordered is-striped is-narrow is-hoverable is-fullwidth",children:[Object(n.jsx)("thead",{children:Object(n.jsx)("tr",{children:Object(n.jsx)("th",{children:"A"})})}),this.state.seats.map((function(e){return Object(n.jsx)("tr",{children:e.seat_no.includes("A")?Object(n.jsx)("td",{children:e.seat_no}):void 0},e.seat_no)}))]})}),Object(n.jsx)("div",{class:"column",children:Object(n.jsxs)("table",{class:"table is-bordered is-striped is-narrow is-hoverable is-fullwidth",children:[Object(n.jsx)("thead",{children:Object(n.jsx)("tr",{children:Object(n.jsx)("th",{children:"B"})})}),this.state.seats.map((function(e){return Object(n.jsx)("tr",{children:e.seat_no.includes("B")?Object(n.jsx)("td",{children:e.seat_no}):void 0},e.seat_no)}))]})}),Object(n.jsx)("div",{class:"column",children:Object(n.jsxs)("table",{class:"table is-bordered is-striped is-narrow is-hoverable is-fullwidth",children:[Object(n.jsx)("thead",{children:Object(n.jsx)("tr",{children:Object(n.jsx)("th",{children:"C"})})}),this.state.seats.map((function(e){return Object(n.jsx)("tr",{children:e.seat_no.includes("C")?Object(n.jsx)("td",{children:e.seat_no}):void 0},e.seat_no)}))]})}),Object(n.jsx)("div",{class:"column",children:Object(n.jsxs)("table",{class:"table is-bordered is-striped is-narrow is-hoverable is-fullwidth",children:[Object(n.jsx)("thead",{children:Object(n.jsx)("tr",{children:Object(n.jsx)("th",{children:"D"})})}),this.state.seats.map((function(e){return Object(n.jsx)("tr",{children:e.seat_no.includes("D")?Object(n.jsx)("td",{children:e.seat_no}):void 0},e.seat_no)}))]})}),Object(n.jsx)("div",{class:"column",children:Object(n.jsxs)("table",{class:"table is-bordered is-striped is-narrow is-hoverable is-fullwidth",children:[Object(n.jsx)("thead",{children:Object(n.jsx)("tr",{children:Object(n.jsx)("th",{children:"E"})})}),this.state.seats.map((function(e){return Object(n.jsx)("tr",{children:e.seat_no.includes("E")?Object(n.jsx)("td",{children:e.seat_no}):void 0},e.seat_no)}))]})}),Object(n.jsx)("div",{class:"column",children:Object(n.jsxs)("table",{class:"table is-bordered is-striped is-narrow is-hoverable is-fullwidth",children:[Object(n.jsx)("thead",{children:Object(n.jsx)("tr",{children:Object(n.jsx)("th",{children:"F"})})}),this.state.seats.map((function(e){return Object(n.jsx)("tr",{children:e.seat_no.includes("F")?Object(n.jsx)("td",{children:e.seat_no}):void 0},e.seat_no)}))]})})]})]}),Object(n.jsxs)("form",{className:"box",onSubmit:this.handleSubmit,children:[this.state.travelers.map((function(t,s){return Object(n.jsx)("div",{className:"Traveler",children:Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label",children:"Enter Traveler ".concat(s+1,"'s Seat Number")}),Object(n.jsx)("div",{className:"control has-icons-left",children:Object(n.jsx)("input",{type:"text",placeholder:"* required",className:"input",name:"seat_no",onChange:e.handleTravelerSeatChange(s),required:!0})}),"\xa0"]})})})),Object(n.jsxs)("nav",{class:"level",children:[Object(n.jsx)("div",{className:"field has-text-centered",children:Object(n.jsx)("input",{type:"submit",className:"button is-link",value:"Submit",disabled:this.state.isButtonDisabled})}),Object(n.jsx)("button",{class:"button is-danger",onClick:this.backButton,disabled:this.state.isButtonDisabled,children:" Restart"})]})]})]})})})}}]),s}(i.a.Component),_=function(e){Object(h.a)(s,e);var t=Object(o.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).state={current_user:[],total_price:0,taxes:0,discounts:0,card_number:"",security_code:"",full_name:"",billing_address:""},n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.backButton=n.backButton.bind(Object(j.a)(n)),n}return Object(d.a)(s,[{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t,s,n=this;if(e.preventDefault(),!1===isNaN(this.state.card_number))if(!1===isNaN(this.state.security_code))if(!1===(s=this.state.full_name,/\d/.test(s))&&!0===(t=this.state.full_name,!/[~`!@#$%^&*+=\-[\]\\';,/{}|\\":<>?()._]/g.test(t))){var a=this.state.total_price/1.075*.075;this.setState({taxes:a},(function(){fetch("http://localhost:8080/api/payment",{method:"post",headers:new Headers({"content-type":"application/json"}),mode:"cors",credentials:"include",body:JSON.stringify(n.state)}),n.props.submitPayment()}))}else alert("Invalid Name: Please enter valid name/s (no numbers or special characters)");else alert("Invalid Security Code: Please type in a 3 digit security code");else alert("Invalid Card Number: Please type in a 16 digit card number")}},{key:"backButton",value:function(e){e.preventDefault(),this.props.restartApp()}},{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8080/api/get_currentuser",{method:"get",credentials:"include",mode:"cors"}).then((function(e){return e.json()})).then((function(t){return e.setState({current_user:t},(function(){return console.log("User fetched...",t[0])}))})),fetch("http://localhost:8080/api/pricing_module",{method:"get",credentials:"include",mode:"cors"}).then((function(e){return e.json()})).then((function(t){return e.setState({total_price:t},(function(){return console.log("Total Price fetched...",t)}))}))}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{className:"columns is-multiline is-mobile is-centered",children:[Object(n.jsx)("div",{className:"columns is-half ",children:Object(n.jsx)("div",{className:"column is-11-desktop",children:Object(n.jsxs)("form",{className:"box",children:[Object(n.jsx)("h1",{class:"title has-text-centered",children:"Pricing Information"}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label",children:"Travelers"}),Object(n.jsxs)("div",{className:"control has-icons-left",children:[Object(n.jsx)("input",{type:"number",className:"input",name:"travelers",value:this.state.current_user.map((function(e){return e.travelers})),disabled:!0}),Object(n.jsx)("span",{className:"icon is-small is-left",children:Object(n.jsx)("i",{className:"fa fa-dollar"})})]})]}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label",children:"Fair Condition"}),Object(n.jsxs)("div",{className:"control has-icons-left",children:[Object(n.jsx)("input",{type:"text",className:"input",name:"travelers",value:this.state.current_user.map((function(e){return e.fair_conditions})),disabled:!0}),Object(n.jsx)("span",{className:"icon is-small is-left",children:Object(n.jsx)("i",{className:"fa fa-dollar"})})]})]}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label",children:"Fair Condition Price"}),Object(n.jsxs)("div",{className:"control has-icons-left",children:[Object(n.jsx)("input",{type:"number",className:"input",name:"travelers",value:this.state.total_price/1.075/this.state.current_user.map((function(e){return e.travelers})),disabled:!0}),Object(n.jsx)("span",{className:"icon is-small is-left",children:Object(n.jsx)("i",{className:"fa fa-dollar"})})]})]}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label",children:"Taxes"}),Object(n.jsxs)("div",{className:"control has-icons-left",children:[Object(n.jsx)("input",{type:"number",className:"input",name:"travelers",value:this.state.total_price/1.075*.075,disabled:!0}),Object(n.jsx)("span",{className:"icon is-small is-left",children:Object(n.jsx)("i",{className:"fa fa-dollar"})})]})]}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label",children:"Total Price"}),Object(n.jsxs)("div",{className:"control has-icons-left",children:[Object(n.jsx)("input",{type:"number",className:"input",name:"travelers",value:this.state.total_price,disabled:!0}),Object(n.jsx)("span",{className:"icon is-small is-left",children:Object(n.jsx)("i",{className:"fa fa-dollar"})})]})]})]})})}),Object(n.jsx)("div",{className:"columns is-half",children:Object(n.jsx)("div",{className:"column is-11-desktop",children:Object(n.jsxs)("form",{className:"box",onSubmit:this.handleSubmit,children:[Object(n.jsx)("h1",{class:"title has-text-centered",children:"Credit Card Details"}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label",children:"Card Number"}),Object(n.jsxs)("div",{className:"control has-icons-left",children:[Object(n.jsx)("input",{type:"text",minLength:"16",maxLength:"16",placeholder:"* required",className:"input",name:"card_number",value:this.state.card_number,onChange:this.handleChange,required:!0}),Object(n.jsx)("span",{className:"icon is-small is-left",children:Object(n.jsx)("i",{className:"fa fa-lock"})})]})]}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label",children:"Security Code"}),Object(n.jsxs)("div",{className:"control has-icons-left",children:[Object(n.jsx)("input",{type:"text",minLength:"3",maxLength:"3",placeholder:"* required",className:"input",name:"security_code",value:this.state.security_code,onChange:this.handleChange,required:!0}),Object(n.jsx)("span",{className:"icon is-small is-left",children:Object(n.jsx)("i",{className:"fa fa-lock"})})]})]}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label",children:"Full name as it appears on your card"}),Object(n.jsxs)("div",{className:"control has-icons-left",children:[Object(n.jsx)("input",{type:"text",minLength:"3",placeholder:"* required",className:"input",name:"full_name",value:this.state.full_name,onChange:this.handleChange,required:!0}),Object(n.jsx)("span",{className:"icon is-small is-left",children:Object(n.jsx)("i",{className:"fa fa-lock"})})]})]}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label",children:"Billing Address"}),Object(n.jsxs)("div",{className:"control has-icons-left",children:[Object(n.jsx)("input",{type:"text",minLength:"3",placeholder:"* required",className:"input",name:"billing_address",value:this.state.billing_address,onChange:this.handleChange,required:!0}),Object(n.jsx)("span",{className:"icon is-small is-left",children:Object(n.jsx)("i",{className:"fa fa-lock"})})]})]}),Object(n.jsxs)("nav",{class:"level",children:[Object(n.jsx)("div",{className:"field has-text-centered",children:Object(n.jsx)("input",{type:"submit",className:"button is-link",value:"Submit"})}),Object(n.jsx)("button",{class:"button is-danger",onClick:this.backButton,children:" Restart"})]})]})})})]})})}}]),s}(i.a.Component),S=function(e){Object(h.a)(s,e);var t=Object(o.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).state={passengers:[]},n}return Object(d.a)(s,[{key:"backButton",value:function(e){e.preventDefault(),this.props.restartApp()}},{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8080/api/listall_passengers",{method:"get",credentials:"include",mode:"cors"}).then((function(e){return e.json()})).then((function(t){return e.setState({passengers:t},(function(){return console.log("Passengers fetched...",t)}))}))}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{class:"is-overlay has-text-centered single-spaced",style:{top:30},children:Object(n.jsx)("div",{class:"container",children:Object(n.jsxs)("div",{class:"box",children:[Object(n.jsx)("h1",{class:"title",children:"Passengers"}),Object(n.jsxs)("table",{class:"table is-fullwidth",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"Email"}),Object(n.jsx)("th",{children:"Phone Number"}),Object(n.jsx)("th",{children:"Flight Id"}),Object(n.jsx)("th",{children:"Ticket Number"}),Object(n.jsx)("th",{children:"Booking Reference"}),Object(n.jsx)("th",{children:"Seat Number"})]})}),this.state.passengers.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.passenger_name}),Object(n.jsx)("td",{children:e.email}),Object(n.jsx)("td",{children:e.phone}),Object(n.jsx)("td",{children:e.flight_id}),Object(n.jsx)("td",{children:e.ticket_no}),Object(n.jsx)("td",{children:e.book_ref}),Object(n.jsx)("td",{children:e.seat_no})]},e.passenger_id)}))]}),0===this.state.passengers.length?Object(n.jsx)("p",{children:"No passengers yet"}):Object(n.jsx)("div",{})]})})})})}}]),s}(i.a.Component),C=function(e){Object(h.a)(s,e);var t=Object(o.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).state={passengers:[],flight:[]},n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n.backButton=n.backButton.bind(Object(j.a)(n)),n}return Object(d.a)(s,[{key:"handleSubmit",value:function(e){e.preventDefault(),alert("Make sure to write down your Ticket Number and Booking Reference for future use! Thank you for flying with us, you will now be redirected to the full flight list"),this.props.submitGenerated()}},{key:"backButton",value:function(e){e.preventDefault(),this.props.restartApp()}},{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8080/api/list_generated",{method:"get",credentials:"include",mode:"cors"}).then((function(e){return e.json()})).then((function(t){return e.setState({passengers:t},(function(){return console.log("Passengers fetched...",t)}))})),fetch("http://localhost:8080/api/list_passengerflight",{method:"get",credentials:"include",mode:"cors"}).then((function(e){return e.json()})).then((function(t){return e.setState({flight:t},(function(){return console.log("Flight fetched...",t)}))}))}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{class:"is-overlay has-text-centered single-spaced",style:{top:30},children:Object(n.jsxs)("div",{class:"container",children:[Object(n.jsxs)("div",{class:"box",children:[Object(n.jsx)("h1",{class:"title",children:"Your Ticket Information"}),Object(n.jsxs)("table",{class:"table is-fullwidth",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"Email"}),Object(n.jsx)("th",{children:"Phone Number"}),Object(n.jsx)("th",{children:"Flight Id"}),Object(n.jsx)("th",{children:"Ticket Number"}),Object(n.jsx)("th",{children:"Booking Reference"}),Object(n.jsx)("th",{children:"Seat Number"})]})}),this.state.passengers.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.passenger_name}),Object(n.jsx)("td",{children:e.email}),Object(n.jsx)("td",{children:e.phone}),Object(n.jsx)("td",{children:e.flight_id}),Object(n.jsx)("td",{children:e.ticket_no}),Object(n.jsx)("td",{children:e.book_ref}),Object(n.jsx)("td",{children:e.seat_no})]},e.passenger_id)}))]}),Object(n.jsx)("h6",{class:"title is-6",children:"Make sure you write down your Ticket Number and Booking Reference for future use!"})]}),Object(n.jsxs)("div",{class:"box",children:[Object(n.jsx)("h1",{class:"title",children:"Your Flight Information"}),Object(n.jsxs)("table",{class:"table is-fullwidth",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Flight Id"}),Object(n.jsx)("th",{children:"Flight Number"}),Object(n.jsx)("th",{children:"Departure Airport"}),Object(n.jsx)("th",{children:"Arrival Airport"}),Object(n.jsx)("th",{children:"Status"}),Object(n.jsx)("th",{children:"Departing"}),Object(n.jsx)("th",{children:"Arriving"}),Object(n.jsx)("th",{children:"Boarding Time"}),Object(n.jsx)("th",{children:"Gate"}),Object(n.jsx)("th",{children:"Arrival Gate"}),Object(n.jsx)("th",{children:"Baggage Claim Number"}),Object(n.jsx)("th",{children:"Movie"}),Object(n.jsx)("th",{children:"Meal"})]})}),this.state.flight.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.flight_id}),Object(n.jsx)("td",{children:e.flight_no}),Object(n.jsx)("td",{children:e.departure_airport}),Object(n.jsx)("td",{children:e.arrival_airport}),Object(n.jsx)("td",{children:e.status}),Object(n.jsx)("td",{children:e.scheduled_departure}),Object(n.jsx)("td",{children:e.scheduled_arrival}),Object(n.jsx)("td",{children:e.boading_time}),Object(n.jsx)("td",{children:e.gate}),Object(n.jsx)("td",{children:e.arrival_gate}),Object(n.jsx)("td",{children:e.baggage_claim_no}),Object(n.jsx)("td",{children:e.movie}),Object(n.jsx)("td",{children:e.meal})]},e.flight_id)}))]})]}),Object(n.jsx)("form",{className:"box",onSubmit:this.handleSubmit,children:Object(n.jsxs)("nav",{class:"level",children:[Object(n.jsx)("div",{className:"field has-text-centered",children:Object(n.jsx)("input",{type:"submit",className:"button is-link",value:"Next"})}),Object(n.jsx)("button",{class:"button is-danger",onClick:this.backButton,children:" Restart"})]})})]})})})}}]),s}(i.a.Component),A=function(e){Object(h.a)(s,e);var t=Object(o.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).state={passengers:[],flight:[],ticket_no:0,isActive:!1},n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n}return Object(d.a)(s,[{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();for(var s=!1,n=0;n<this.state.passengerinfo.length;n++)this.state.ticket_no==this.state.passengerinfo[n].ticket_no&&(s=!0);!0===s?(this.setState({isActive:!0}),fetch("http://localhost:8080/api/list_ticket",{method:"post",headers:new Headers({"content-type":"application/json"}),mode:"cors",credentials:"include",body:JSON.stringify(this.state)}).then((function(e){return e.json()})).then((function(e){return t.setState({passengers:e},(function(){return console.log("Passengers fetched...",e)}))})),fetch("http://localhost:8080/api/list_ticketflight",{method:"post",headers:new Headers({"content-type":"application/json"}),mode:"cors",credentials:"include",body:JSON.stringify(this.state)}).then((function(e){return e.json()})).then((function(e){return t.setState({flight:e},(function(){return console.log("Passengers fetched...",e)}))}))):(this.setState({isActive:!1}),setTimeout((function(){alert("Invalid Ticket Number: This number does not exist in our system")}),50))}},{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8080/api/listall_passengers",{method:"get",credentials:"include",mode:"cors"}).then((function(e){return e.json()})).then((function(t){return e.setState({passengerinfo:t},(function(){return console.log("Passengers Info fetched...",t)}))}))}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{class:"is-overlay",style:{top:30},children:[Object(n.jsxs)("form",{className:"box",onSubmit:this.handleSubmit,children:[Object(n.jsx)("h1",{class:"title has-text-centered",children:"Check your ticket and flight information"}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label",children:"Ticket Number"}),Object(n.jsx)("div",{className:"control has-icons-left",children:Object(n.jsx)("input",{type:"number",placeholder:"* required",className:"input",name:"ticket_no",onChange:this.handleChange,required:!0})})]}),Object(n.jsx)("div",{className:"field has-text-centered",children:Object(n.jsx)("input",{type:"submit",className:"button is-link",value:"Submit"})})]}),this.state.isActive?Object(n.jsxs)("div",{class:"container",children:[Object(n.jsxs)("div",{class:"box",children:[Object(n.jsx)("h1",{class:"title has-text-centered",children:"Your Ticket Information"}),Object(n.jsxs)("table",{class:"table is-fullwidth",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"Email"}),Object(n.jsx)("th",{children:"Phone Number"}),Object(n.jsx)("th",{children:"Flight Id"}),Object(n.jsx)("th",{children:"Ticket Number"}),Object(n.jsx)("th",{children:"Booking Reference"}),Object(n.jsx)("th",{children:"Seat Number"})]})}),this.state.passengers.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.passenger_name}),Object(n.jsx)("td",{children:e.email}),Object(n.jsx)("td",{children:e.phone}),Object(n.jsx)("td",{children:e.flight_id}),Object(n.jsx)("td",{children:e.ticket_no}),Object(n.jsx)("td",{children:e.book_ref}),Object(n.jsx)("td",{children:e.seat_no})]},e.passenger_id)}))]})]}),Object(n.jsxs)("div",{class:"box",children:[Object(n.jsx)("h1",{class:"title has-text-centered",children:"Your Flight Information"}),Object(n.jsxs)("table",{class:"table is-fullwidth",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Flight Id"}),Object(n.jsx)("th",{children:"Flight Number"}),Object(n.jsx)("th",{children:"Departure Airport"}),Object(n.jsx)("th",{children:"Arrival Airport"}),Object(n.jsx)("th",{children:"Status"}),Object(n.jsx)("th",{children:"Departing"}),Object(n.jsx)("th",{children:"Arriving"}),Object(n.jsx)("th",{children:"Boarding Time"}),Object(n.jsx)("th",{children:"Gate"}),Object(n.jsx)("th",{children:"Arrival Gate"}),Object(n.jsx)("th",{children:"Baggage Claim Number"}),Object(n.jsx)("th",{children:"Movie"}),Object(n.jsx)("th",{children:"Meal"})]})}),this.state.flight.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.flight_id}),Object(n.jsx)("td",{children:e.flight_no}),Object(n.jsx)("td",{children:e.departure_airport}),Object(n.jsx)("td",{children:e.arrival_airport}),Object(n.jsx)("td",{children:e.status}),Object(n.jsx)("td",{children:e.scheduled_departure}),Object(n.jsx)("td",{children:e.scheduled_arrival}),Object(n.jsx)("td",{children:e.boading_time}),Object(n.jsx)("td",{children:e.gate}),Object(n.jsx)("td",{children:e.arrival_gate}),Object(n.jsx)("td",{children:e.baggage_claim_no}),Object(n.jsx)("td",{children:e.movie}),Object(n.jsx)("td",{children:e.meal})]},e.flight_id)}))]})]})]}):null]})})}}]),s}(i.a.Component),D=function(e){Object(h.a)(s,e);var t=Object(o.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).state={passengers:[],booking_no:0,isActive:!1},n.handleChange=n.handleChange.bind(Object(j.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n}return Object(d.a)(s,[{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();for(var s=!1,n=0;n<this.state.bookings.length;n++)this.state.booking_no==this.state.bookings[n].book_ref&&(s=!0);!0===s?(this.setState({isActive:!0}),fetch("http://localhost:8080/api/list_booking",{method:"post",headers:new Headers({"content-type":"application/json"}),mode:"cors",credentials:"include",body:JSON.stringify(this.state)}).then((function(e){return e.json()})).then((function(e){return t.setState({passengers:e},(function(){return console.log("Passengers fetched...",e)}))}))):(this.setState({isActive:!1}),setTimeout((function(){alert("Invalid Booking Number: This number does not exist in our system")}),50))}},{key:"componentDidMount",value:function(){var e=this;fetch("http://localhost:8080/api/get_bookings",{method:"get",credentials:"include",mode:"cors"}).then((function(e){return e.json()})).then((function(t){return e.setState({bookings:t},(function(){return console.log("Bookings fetched...",t)}))}))}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"container",children:Object(n.jsxs)("div",{class:"is-overlay",style:{top:30},children:[Object(n.jsxs)("form",{className:"box",onSubmit:this.handleSubmit,children:[Object(n.jsx)("h1",{class:"title has-text-centered",children:"Check your Booking"}),Object(n.jsxs)("div",{className:"field",children:[Object(n.jsx)("label",{className:"label",children:"Booking Reference Number"}),Object(n.jsx)("div",{className:"control has-icons-left",children:Object(n.jsx)("input",{type:"number",placeholder:"* required",className:"input",name:"booking_no",onChange:this.handleChange,required:!0})})]}),Object(n.jsx)("div",{className:"field has-text-centered",children:Object(n.jsx)("input",{type:"submit",className:"button is-link",value:"Submit"})})]}),this.state.isActive?Object(n.jsx)("div",{class:"container",children:Object(n.jsxs)("div",{class:"box has-text-centered",children:[Object(n.jsx)("h1",{class:"title has-text-centered",children:"Your Booking Information"}),Object(n.jsxs)("table",{class:"table is-fullwidth",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"Name"}),Object(n.jsx)("th",{children:"Email"}),Object(n.jsx)("th",{children:"Phone Number"}),Object(n.jsx)("th",{children:"Flight Id"}),Object(n.jsx)("th",{children:"Ticket Number"}),Object(n.jsx)("th",{children:"Booking Reference"}),Object(n.jsx)("th",{children:"Seat Number"})]})}),this.state.passengers.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.passenger_name}),Object(n.jsx)("td",{children:e.email}),Object(n.jsx)("td",{children:e.phone}),Object(n.jsx)("td",{children:e.flight_id}),Object(n.jsx)("td",{children:e.ticket_no}),Object(n.jsx)("td",{children:e.book_ref}),Object(n.jsx)("td",{children:e.seat_no})]},e.passenger_id)}))]}),0===this.state.passengers.length?Object(n.jsx)("p",{children:"Since you refunded you have no tickets for this bookings"}):Object(n.jsx)("div",{})]})}):null]})})}}]),s}(i.a.Component),F=s.p+"static/media/ER Model.4a2635b7.pdf",w=s.p+"static/media/ER Model With Cardinalities.c3d9456c.pdf",B=function(e){Object(h.a)(s,e);var t=Object(o.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).state={isActive:!0,isButtonDisabled:!1,isSecure:!1,isPopulating:!1,resetdatabaseclicked:!1},n.handleSubmit=n.handleSubmit.bind(Object(j.a)(n)),n.populateDatabase=n.populateDatabase.bind(Object(j.a)(n)),n.resetDatabase=n.resetDatabase.bind(Object(j.a)(n)),n}return Object(d.a)(s,[{key:"resetDatabase",value:function(e){var t=this;e.preventDefault(),this.setState({isButtonDisabled:!0,isSecure:!0,resetdatabaseclicked:!0}),fetch("http://localhost:8080/api/resetdatabase",{method:"post",headers:new Headers({"content-type":"application/json"}),mode:"cors",credentials:"include",body:JSON.stringify(this.state)}),setTimeout((function(){return t.setState({isButtonDisabled:!1,isSecure:!1})}),5e3),setTimeout(function(){this.setState({isActive:!0})}.bind(this),1e3)}},{key:"populateDatabase",value:function(e){var t=this;e.preventDefault(),this.setState({isActive:!1,isPopulating:!0,isButtonDisabled:!0}),fetch("http://localhost:8080/api/populatetables",{method:"post",headers:new Headers({"content-type":"application/json"}),mode:"cors",credentials:"include",body:JSON.stringify(this.state)}),setTimeout((function(){return t.setState({isButtonDisabled:!1,isPopulating:!1})}),5e3)}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.submitAbout()}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"columns is-centered",children:Object(n.jsx)("div",{className:"column is-7-desktop",children:Object(n.jsxs)("div",{class:"box",children:[Object(n.jsx)("h1",{class:"title has-text-centered",children:"About"}),Object(n.jsx)("div",{class:"block has-text-centered",children:"Welcome to our Airline Application. You can view our ER Model or Demo in the links below."}),Object(n.jsx)("div",{class:"block has-text-centered",children:"You can check the transaction.sql or query.sql in the server folder to see all the sql statements."}),"\xa0",Object(n.jsx)("div",{class:"block has-text-centered",children:Object(n.jsx)("a",{href:F,target:"_blank",rel:"noreferrer",children:"ER Model"})}),Object(n.jsx)("div",{class:"block has-text-centered",children:Object(n.jsx)("a",{href:w,target:"_blank",rel:"noreferrer",children:"ER Model with only Primary and Foreign Keys"})}),Object(n.jsx)("div",{class:"block has-text-centered",children:Object(n.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://www.youtube.com/",children:"Demo"})}),"\xa0",Object(n.jsxs)("div",{class:"block has-text-centered",children:["First please click the ",Object(n.jsx)("strong",{children:"Reset Database"})," button to create the tables in your account."]}),"\xa0",this.state.resetdatabaseclicked?Object(n.jsxs)("div",{class:"block has-text-centered",children:["If you want to pre-populated the tables click the ",Object(n.jsx)("strong",{children:"Pre-Populate"})," button."]}):null,"\xa0",this.state.resetdatabaseclicked?Object(n.jsxs)("div",{class:"block has-text-centered",children:["If you want to look at the Airline Clerk side press the ",Object(n.jsx)("strong",{children:"Airline Portal Tab"})," in the top left."]}):null,"\xa0",this.state.resetdatabaseclicked?Object(n.jsxs)("div",{class:"block has-text-centered",children:["If you want to start a application press the ",Object(n.jsx)("strong",{children:"Start Application"})," button below or the ",Object(n.jsx)("strong",{children:"Find Flights Tab"}),"."]}):null,"\xa0",this.state.resetdatabaseclicked?Object(n.jsxs)("div",{class:"block has-text-centered",children:["If at anytime you want to start or change your reservation you can press the ",Object(n.jsx)("strong",{children:"Restart"})," button on any page during the application."]}):null,"\xa0",Object(n.jsxs)("nav",{class:"level",children:[Object(n.jsx)("div",{class:"level-item has-text-centered",children:Object(n.jsx)("div",{className:"field has-text-centered",children:Object(n.jsx)("input",{type:"submit",className:"button is-danger",onClick:this.resetDatabase,disabled:this.state.isButtonDisabled,value:"Reset Database"})})}),this.state.resetdatabaseclicked?Object(n.jsx)("div",{class:"level-item has-text-centered",children:Object(n.jsx)("div",{className:"field has-text-centered",children:Object(n.jsx)("input",{type:"submit",className:"button is-success",onClick:this.handleSubmit,disabled:this.state.isButtonDisabled,value:"Start Application"})})}):null,this.state.isActive&&this.state.resetdatabaseclicked?Object(n.jsx)("div",{class:"level-item has-text-centered",children:Object(n.jsx)("div",{className:"field has-text-centered",children:Object(n.jsx)("input",{type:"submit",className:"button is-info",onClick:this.populateDatabase,disabled:this.state.isButtonDisabled,value:"Pre-Populate"})})}):null]}),this.state.isSecure?Object(n.jsxs)("div",{class:"block has-text-centered",children:[Object(n.jsx)("strong",{children:"Database Reset: To insure database stability, the buttons will be disabled for 5 seconds"}),"."]}):null,this.state.isPopulating?Object(n.jsxs)("div",{class:"block has-text-centered",children:[Object(n.jsx)("strong",{children:"Populating Tables: To insure database stability, the buttons will be disabled for 5 seconds"}),"."]}):null]})})})})}}]),s}(i.a.Component),P=(s(11),function(e){Object(h.a)(s,e);var t=Object(o.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).click=function(e){n.props.nh(e.currentTarget.id)},n.click=n.click.bind(Object(j.a)(n)),n}return Object(d.a)(s,[{key:"render",value:function(){return Object(n.jsx)("nav",{className:"navbar",children:Object(n.jsxs)("div",{className:"navbar-menu",children:[Object(n.jsx)("div",{className:"navbar-start",children:Object(n.jsx)("div",{id:"AirlinePortal",className:"navbar-item navbar-item-hover",onClick:this.click,children:"Airline Portal"})}),Object(n.jsxs)("div",{className:"navbar-end",children:[Object(n.jsx)("div",{id:"AboutPage",className:"navbar-item navbar-item-hover",onClick:this.click,children:"About"}),Object(n.jsx)("div",{id:"FindFlights",className:"navbar-item navbar-item-hover",onClick:this.click,children:"Find Flights"}),Object(n.jsx)("div",{id:"CheckTicket",className:"navbar-item navbar-item-hover",onClick:this.click,children:"Check Ticket"}),Object(n.jsx)("div",{id:"CheckBooking",className:"navbar-item navbar-item-hover",onClick:this.click,children:"Check Booking"}),Object(n.jsx)("div",{id:"RefundPage",className:"navbar-item navbar-item-hover",onClick:this.click,children:"Refund"}),Object(n.jsx)("div",{id:"ListAllFlights",className:"navbar-item navbar-item-hover",onClick:this.click,children:"View All Flights"})]})]})})}}]),s}(a.Component)),T=function(e){Object(h.a)(s,e);var t=Object(o.a)(s);function s(e){var n;return Object(r.a)(this,s),(n=t.call(this,e)).state={page:"AboutPage"},n.submitDestination=function(){setTimeout(function(){this.setState({page:"ListFlights"})}.bind(Object(j.a)(n)),500)},n.submitFlight=function(){n.setState({page:"CustomerInfo"})},n.submitRefund=function(){n.setState({page:"RefundPage"})},n.submitCustomerInfo=function(){n.setState({page:"Payment"})},n.submitPayment=function(){n.setState({page:"PickSeat"})},n.submitSeat=function(){setTimeout(function(){this.setState({page:"GeneratedNumber"})}.bind(Object(j.a)(n)),2200)},n.submitGenerated=function(){n.setState({page:"ListAllFlights"})},n.restartApp=function(){n.setState({page:"FindFlights"})},n.submitAbout=function(){n.setState({page:"FindFlights"})},n.navHandler=n.navHandler.bind(Object(j.a)(n)),n}return Object(d.a)(s,[{key:"navHandler",value:function(e){this.setState({page:e})}},{key:"appletSwitch",value:function(e){switch(e){case"AboutPage":return Object(n.jsx)(B,{submitAbout:this.submitAbout});case"FindFlights":return Object(n.jsx)(f,{submitDestination:this.submitDestination});case"ListFlights":return Object(n.jsx)(p,{submitFlight:this.submitFlight,restartApp:this.restartApp});case"CustomerInfo":return Object(n.jsx)(g,{submitCustomerInfo:this.submitCustomerInfo,restartApp:this.restartApp});case"Payment":return Object(n.jsx)(_,{submitPayment:this.submitPayment,restartApp:this.restartApp});case"PickSeat":return Object(n.jsx)(y,{submitSeat:this.submitSeat,restartApp:this.restartApp});case"RefundPage":return Object(n.jsx)(N,{submitRefund:this.submitRefund});case"ListAllFlights":return Object(n.jsx)(k,{});case"AirlinePortal":return Object(n.jsx)(S,{});case"GeneratedNumber":return Object(n.jsx)(C,{submitGenerated:this.submitGenerated,restartApp:this.restartApp});case"CheckTicket":return Object(n.jsx)(A,{});case"CheckBooking":return Object(n.jsx)(D,{});default:return Object(n.jsx)("div",{})}}},{key:"render",value:function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(P,{nh:this.navHandler}),Object(n.jsx)("section",{className:"hero is-fullheight-with-navbar",children:Object(n.jsx)("div",{className:"section",children:this.appletSwitch(this.state.page)})})]})}}]),s}(a.Component),I=function(e){Object(h.a)(s,e);var t=Object(o.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){return Object(n.jsx)(T,{})}}]),s}(a.Component);l.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(I,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.9e6d6594.chunk.js.map